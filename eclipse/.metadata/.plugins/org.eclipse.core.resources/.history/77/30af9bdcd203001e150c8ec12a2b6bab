/*
 * Decompiled with CFR 0.150.
 * 
 * Could not load the following classes:
 *  net.labymod.api.addon.entrypoint.Entrypoint
 *  net.labymod.api.loader.platform.PlatformClassloader$TransformerPhase
 *  net.labymod.api.loader.platform.PlatformEnvironment
 *  net.labymod.api.models.addon.annotation.AddonEntryPoint
 *  net.labymod.api.models.version.Version
 *  net.labymod.api.util.version.SemanticVersion
 */
package net.labymod.addons.flux.core.entrypoint;

import net.labymod.api.addon.entrypoint.Entrypoint;
import net.labymod.api.loader.platform.PlatformClassloader;
import net.labymod.api.loader.platform.PlatformEnvironment;
import net.labymod.api.models.addon.annotation.AddonEntryPoint;
import net.labymod.api.models.version.Version;
import net.labymod.api.util.version.SemanticVersion;

@AddonEntryPoint
public class FluxEntrypoint
implements Entrypoint {
    private static final Version LEGACY_VERSION = new SemanticVersion("1.12.2");

    public void initialize(Version version) {
        if (!version.isLowerThan(LEGACY_VERSION)) {
            PlatformEnvironment.getPlatformClassloader().registerTransformer(PlatformClassloader.TransformerPhase.NORMAL, "net.labymod.addons.flux.core.transformer.FasterVertexWriterTransformer");
        }
    }
}

